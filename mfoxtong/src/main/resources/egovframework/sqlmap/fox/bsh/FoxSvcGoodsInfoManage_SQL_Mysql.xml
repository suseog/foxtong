<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="FoxSvcGoodsInfo">

    <typeAlias  alias="egovMap"      				type = "egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias  alias="foxSvcGoodsInfoDefaultVO" 	type = "egovframework.fox.bsh.service.FoxSvcGoodsInfoDefaultVO"/>
    <typeAlias  alias="foxSvcGoodsInfoVO"       	type = "egovframework.fox.bsh.service.FoxSvcGoodsInfoVO"/>

    
    
   <insert id="foxSvcGoodsInfoManageDAO.insertSvcGoodsInfo" parameterClass="foxSvcGoodsInfoVO">
        <![CDATA[
        INSERT INTO FOXTNSVCGOODSINFO 
        (   
                     SVC_ID         	
                    ,BSSH_ESNTL_ID 		
                    ,SVC_LRGE_CL		
                    ,SVC_SMALL_CL         		
                    ,SVC_GOODS_NM    			
                    ,SVC_TIME      			
                    ,SVC_SUMRY_DC			
                    ,SVC_CNSMR_PC    			
                    ,SVC_DSCNT_RT     		
                    ,LAST_DSCNT_PC		
                    ,ADIT_DC		
                    ,EXTRA_ONE		
                    ,EXTRA_TWO		
                    ,FRST_REGIST_PNTTM		
                    ,FRST_REGISTER_ID        
          )VALUES( 
                     #svcId#
                    ,#bsshEsntlId#
                    ,#svcLrgeclas#
                    ,#svcSmallclas#
                    ,#svcGoodsNm#
                    ,#svcTime#
                    ,#svcSumryDc#
                    ,#svcCnsmrPc#
                    ,#svcDscntRt#
                    ,#lastDscntPc# 
                    ,#aditDc# 
                    ,#extraOne# 
                    ,#extraTwo# 
                    ,sysdate() 
                    ,#frstRegistId# 
             )  
        ]]>
    </insert>
    
     <select id="foxSvcGoodsInfoManageDAO.selectSvcGoodsInfo" resultClass="foxSvcGoodsInfoVO">
        <![CDATA[
         SELECT 
	         	 SVC_ID   			AS    svcId
				,BSSH_ESNTL_ID   	AS    bsshEsntlId
				,SVC_LRGE_CL   		AS    svcLrgeclas
				,SVC_SMALL_CL   	AS    svcSmallclas
				,SVC_GOODS_NM   	AS    svcGoodsNm
				,SVC_TIME   		AS    svcTime
				,SVC_SUMRY_DC   	AS    svcSumryDc
				,SVC_CNSMR_PC   	AS    svcCnsmrPc
				,SVC_DSCNT_RT   	AS    svcDscntRt
				,LAST_DSCNT_PC  	AS    lastDscntPc
				,ADIT_DC   			AS    aditDc
				,EXTRA_ONE   		AS    extraOne
				,EXTRA_TWO   		AS    extraTwo
           FROM FOXTNSVCGOODSINFO
          WHERE 1=1
            AND SVC_ID		  = #svcId#
          	AND DELETE_AT	  = 'N'
        ]]>
    </select>
    
    
    
   	<select id="foxSvcGoodsInfoManageDAO.selectSvcGoodsInfoList" parameterClass="foxSvcGoodsInfoVO" resultClass="egovMap">
        <![CDATA[
         SELECT 
	         	 SVC_ID   			AS    svcId
				,A.BSSH_ESNTL_ID   	AS    bsshEsntlId
				,A.SVC_LRGE_CL   	AS    svcLrgeclas
				,A.SVC_SMALL_CL   	AS    svcSmallclas
				,B.SVC_SMALL_CL_NM 	AS    svcSmallclasNm
				,A.SVC_GOODS_NM   	AS    svcGoodsNm
				,SVC_TIME   		AS    svcTime
				,SVC_SUMRY_DC   	AS    svcSumryDc
				,SVC_CNSMR_PC   	AS    svcCnsmrPc
				,SVC_DSCNT_RT   	AS    svcDscntRt
				,LAST_DSCNT_PC  	AS    lastDscntPc
				,ADIT_DC   			AS    aditDc
				,EXTRA_ONE   		AS    extraOne
				,EXTRA_TWO   		AS    extraTwo
           FROM FOXTNSVCGOODSINFO A, FOXTNSVCGOODSCI B
          WHERE 1=1
          	AND A.DELETE_AT		  	  = 'N'
       	  	AND A.BSSH_ESNTL_ID		  = B.BSSH_ESNTL_ID
  			AND A.SVC_SMALL_CL        = B.SVC_SMALL_CL
            AND A.BSSH_ESNTL_ID		  = #bsshEsntlId#
        ]]>
    </select>
  
    
     <update id="foxSvcGoodsInfoManageDAO.updateSvcGoodsInfo" parameterClass="foxSvcGoodsInfoVO">
            <![CDATA[
           	   UPDATE 	FOXTNSVCGOODSINFO 
	              SET   SVC_LRGE_CL 	= #svcLrgeclas#
	              	  , SVC_SMALL_CL 	= #svcSmallclas#
	              	  , SVC_GOODS_NM 	= #svcGoodsNm#
	              	  , SVC_TIME 		= #svcTime#
	              	  , SVC_SUMRY_DC 	= #svcSumryDc#
	              	  , SVC_CNSMR_PC 	= #svcCnsmrPc#
	              	  , SVC_DSCNT_RT 	= #svcDscntRt#
	              	  , LAST_DSCNT_PC 	= #lastDscntPc#
	              	  , ADIT_DC		 	= #aditDc#
	              	  , EXTRA_ONE 		= #extraOne#
	              	  , EXTRA_TWO 		= #extraTwo#
	              	  , LAST_UPDUSR_ID 	= #esntlId#
              	  , LAST_UPDT_PNTTM 	= sysdate()
	            WHERE 1=1
	              AND BSSH_ESNTL_ID=#bsshEsntlId#
	              AND SVC_ID=#svcId#
           ]]>     
    </update>
    
   
     <update id="foxSvcGoodsInfoManageDAO.updateSvcGoodsInfoDelAt" parameterClass="foxSvcGoodsInfoVO">
             <![CDATA[
           	   UPDATE 	FOXTNSVCGOODSINFO 
	              SET   DELETE_AT 		= 'Y'
	              	  , LAST_UPDUSR_ID 	= #esntlId#
              	  	  , LAST_UPDT_PNTTM = sysdate()
	            WHERE 1=1
	              AND BSSH_ESNTL_ID=#bsshEsntlId#
	              AND SVC_ID=#svcId#
           ]]>     
    </update>
    
      
   <insert id="foxSvcGoodsInfoManageDAO.insertSvcGoodsCl" parameterClass="foxSvcGoodsInfoVO">
        <![CDATA[
        INSERT INTO FOXTNSVCGOODSCI 
        (   
                     BSSH_ESNTL_ID 		
                    ,SVC_SMALL_CL_NM 			
                    ,FRST_REGIST_PNTTM		
                    ,FRST_REGISTER_ID        
         )VALUES( 
                     #bsshEsntlId#
                    ,#svcSmallclasNm#
                    ,sysdate() 
                    ,#frstRegistId# 
         )  
        ]]>
    </insert>
    
    <update id="foxSvcGoodsInfoManageDAO.updateSvcGoodsCl" parameterClass="foxSvcGoodsInfoVO">
             <![CDATA[
           	   UPDATE 	FOXTNSVCGOODSCI 
	              SET   SVC_SMALL_CL_NM 		= #svcSmallclasNm#
	              	  , LAST_UPDUSR_ID 			= #esntlId#
              	  	  , LAST_UPDT_PNTTM			= sysdate()
	            WHERE 1=1
	              AND BSSH_ESNTL_ID=#bsshEsntlId#
	              AND SVC_SMALL_CL=#svcSmallclas#
           ]]>     
    </update>
    
    
   	<delete id="foxSvcGoodsInfoManageDAO.deleteSvcGoodsCl" parameterClass="foxSvcGoodsInfoVO" >
		<![CDATA[
			DELETE FROM FOXTNSVCGOODSCI
            WHERE 1=1
              AND BSSH_ESNTL_ID=#bsshEsntlId#
              AND SVC_SMALL_CL=#svcSmallclas#		
		]]>	
	</delete>
	
   	<select id="foxSvcGoodsInfoManageDAO.selectSvcGoodsClList" parameterClass="foxSvcGoodsInfoVO" resultClass="egovMap">
        <![CDATA[
         SELECT 
				 BSSH_ESNTL_ID   	AS    bsshEsntlId
				,SVC_SMALL_CL   	AS    svcSmallclas
				,SVC_SMALL_CL_NM   	AS    svcSmallclasNm
           FROM FOXTNSVCGOODSCI
          WHERE 1=1
            AND BSSH_ESNTL_ID		  = #bsshEsntlId#
        ]]>
    </select>
    
</sqlMap>
